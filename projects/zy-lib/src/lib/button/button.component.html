<ng-container [ngSwitch]="type">
    <ng-container *ngSwitchCase="'split'" [ngTemplateOutlet]="SplitButton"></ng-container>
    <ng-container *ngSwitchDefault [ngTemplateOutlet]="SimpleButton"></ng-container>
</ng-container>

<!-- Common Button -->
<ng-template #SimpleButton>
    <button
        class="zy-button"
        [ngClass]="{ 'is-primary': color === 'primary', 'is-round': type === 'round', 'is-outlined': type === 'outlined', 'is-ghost': type === 'ghost' }"
        (click)="clickHandler($event)"
        [disabled]="isDisabled"
    >
        <span class="zy-button__wrapper">
            <ng-content select="[icon]" *ngIf="!isLoading; else loading"></ng-content>
            <ng-template #loading>
                <zy-loader [color]="color"></zy-loader>
            </ng-template>
            <span *ngIf="type !== 'round'" class="title">
                <ng-content></ng-content>
            </span>
        </span>
    </button>
</ng-template>
<!-- /Common Button -->

<!-- Split Button -->
<ng-template #SplitButton>
    <div class="zy-split-button" [ngClass]="{ 'is-primary': color === 'primary' }">
        <div class="zy-split-button__wrapper">
            <button class="zy-split-button__left-part" (click)="clickHandler($event)" [disabled]="isDisabled">
                <ng-content select="[split-text]"></ng-content>
            </button>
            <button class="zy-split-button__right-part" (click)="selectHandler($event)" [disabled]="isDisabled || !items.length">
                <ng-container *ngIf="isSplitClosed">&#9662;</ng-container>
                <ng-container *ngIf="!isSplitClosed">&#9652;</ng-container>
            </button>
        </div>
        <ng-container *ngIf="items.length && !isSplitClosed">
            <div class="sub-menu">
                <div *ngFor="let item of items" class="sub-menu__item item">
                    <button class="item__button" [disabled]="item.isDisabled || !item.onClick" (click)="item.onClick && item.onClick!($event); selectHandler($event, true)">{{ item.title }}</button>
                </div>
            </div>
        </ng-container>
    </div>
</ng-template>
<!-- /Split Button -->